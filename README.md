go-allegro
==========

This repository contains bindings for writing [Allegro 5](http://alleg.sourceforge.net) games in Go.

![screenshot](https://github.com/dradtke/go-allegro/raw/5.0/example/screenshot.png)

Obviously, in order for the bindings to work, you'll need to already have a working Allegro 5 development environment set up.

Function documentation is included in the source, but it's pulled directly from Allegro's C API documentation, so not everything will line up as far as parameters and return values. However, the C API maps pretty well to the Go API, so if you're familiar with the patterns (e.g. `error`'s instead of boolean success values, multiple return values instead of output parameters, object functions as instance methods on structs), then it shouldn't be hard to figure out what's going on. You can view the documentation by installing the bindings, running `godoc -http=:6060` in a terminal, and opening up `http://localhost:6060/pkg/github.com/dradtke/go-allegro/allegro/` in a browser.

The following functions still need to be implemented or blacklisted (in addition to a few more modules). This list is generated using the included `coverage_test.go`:

```
--- FAIL: TestCoverage (0.19 seconds)
	coverage_test.go:239: Module 'audio' missing function 'al_create_sample_instance' [ALLEGRO_SAMPLE_INSTANCE* al_create_sample_instance(ALLEGRO_SAMPLE *data)]
	coverage_test.go:239: Module 'audio' missing function 'al_destroy_sample_instance' [void al_destroy_sample_instance(ALLEGRO_SAMPLE_INSTANCE *spl)]
	coverage_test.go:239: Module 'audio' missing function 'al_get_sample_instance_frequency' [unsigned int al_get_sample_instance_frequency(const ALLEGRO_SAMPLE_INSTANCE *spl)]
	coverage_test.go:239: Module 'audio' missing function 'al_get_sample_instance_length' [unsigned int al_get_sample_instance_length(const ALLEGRO_SAMPLE_INSTANCE *spl)]
	coverage_test.go:239: Module 'audio' missing function 'al_get_sample_instance_position' [unsigned int al_get_sample_instance_position(const ALLEGRO_SAMPLE_INSTANCE *spl)]
	coverage_test.go:239: Module 'audio' missing function 'al_get_sample_instance_speed' [float al_get_sample_instance_speed(const ALLEGRO_SAMPLE_INSTANCE *spl)]
	coverage_test.go:239: Module 'audio' missing function 'al_get_sample_instance_gain' [float al_get_sample_instance_gain(const ALLEGRO_SAMPLE_INSTANCE *spl)]
	coverage_test.go:239: Module 'audio' missing function 'al_get_sample_instance_pan' [float al_get_sample_instance_pan(const ALLEGRO_SAMPLE_INSTANCE *spl)]
	coverage_test.go:239: Module 'audio' missing function 'al_get_sample_instance_time' [float al_get_sample_instance_time(const ALLEGRO_SAMPLE_INSTANCE *spl)]
	coverage_test.go:239: Module 'audio' missing function 'al_get_sample_instance_depth' [ALLEGRO_AUDIO_DEPTH al_get_sample_instance_depth(const ALLEGRO_SAMPLE_INSTANCE *spl)]
	coverage_test.go:239: Module 'audio' missing function 'al_get_sample_instance_channels' [ALLEGRO_CHANNEL_CONF al_get_sample_instance_channels(const ALLEGRO_SAMPLE_INSTANCE *spl)]
	coverage_test.go:239: Module 'audio' missing function 'al_get_sample_instance_playmode' [ALLEGRO_PLAYMODE al_get_sample_instance_playmode(const ALLEGRO_SAMPLE_INSTANCE *spl)]
	coverage_test.go:239: Module 'audio' missing function 'al_get_sample_instance_playing' [bool al_get_sample_instance_playing(const ALLEGRO_SAMPLE_INSTANCE *spl)]
	coverage_test.go:239: Module 'audio' missing function 'al_get_sample_instance_attached' [bool al_get_sample_instance_attached(const ALLEGRO_SAMPLE_INSTANCE *spl)]
	coverage_test.go:239: Module 'audio' missing function 'al_set_sample_instance_position' [bool al_set_sample_instance_position(ALLEGRO_SAMPLE_INSTANCE *spl, unsigned int val)]
	coverage_test.go:239: Module 'audio' missing function 'al_set_sample_instance_length' [bool al_set_sample_instance_length(ALLEGRO_SAMPLE_INSTANCE *spl, unsigned int val)]
	coverage_test.go:239: Module 'audio' missing function 'al_set_sample_instance_speed' [bool al_set_sample_instance_speed(ALLEGRO_SAMPLE_INSTANCE *spl, float val)]
	coverage_test.go:239: Module 'audio' missing function 'al_set_sample_instance_gain' [bool al_set_sample_instance_gain(ALLEGRO_SAMPLE_INSTANCE *spl, float val)]
	coverage_test.go:239: Module 'audio' missing function 'al_set_sample_instance_pan' [bool al_set_sample_instance_pan(ALLEGRO_SAMPLE_INSTANCE *spl, float val)]
	coverage_test.go:239: Module 'audio' missing function 'al_set_sample_instance_playmode' [bool al_set_sample_instance_playmode(ALLEGRO_SAMPLE_INSTANCE *spl, ALLEGRO_PLAYMODE val)]
	coverage_test.go:239: Module 'audio' missing function 'al_set_sample_instance_playing' [bool al_set_sample_instance_playing(ALLEGRO_SAMPLE_INSTANCE *spl, bool val)]
	coverage_test.go:239: Module 'audio' missing function 'al_detach_sample_instance' [bool al_detach_sample_instance(ALLEGRO_SAMPLE_INSTANCE *spl)]
	coverage_test.go:239: Module 'audio' missing function 'al_set_sample' [bool al_set_sample(ALLEGRO_SAMPLE_INSTANCE *spl, ALLEGRO_SAMPLE *data)]
	coverage_test.go:239: Module 'audio' missing function 'al_play_sample_instance' [bool al_play_sample_instance(ALLEGRO_SAMPLE_INSTANCE *spl)]
	coverage_test.go:239: Module 'audio' missing function 'al_stop_sample_instance' [bool al_stop_sample_instance(ALLEGRO_SAMPLE_INSTANCE *spl)]
	coverage_test.go:239: Module 'audio' missing function 'al_create_audio_stream' [ALLEGRO_AUDIO_STREAM* al_create_audio_stream(size_t buffer_count,unsigned int samples, unsigned int freq,ALLEGRO_AUDIO_DEPTH depth, ALLEGRO_CHANNEL_CONF chan_conf)]
	coverage_test.go:239: Module 'audio' missing function 'al_destroy_audio_stream' [void al_destroy_audio_stream(ALLEGRO_AUDIO_STREAM *stream)]
	coverage_test.go:239: Module 'audio' missing function 'al_drain_audio_stream' [void al_drain_audio_stream(ALLEGRO_AUDIO_STREAM *stream)]
	coverage_test.go:239: Module 'audio' missing function 'al_get_audio_stream_frequency' [unsigned int al_get_audio_stream_frequency(const ALLEGRO_AUDIO_STREAM *stream)]
	coverage_test.go:239: Module 'audio' missing function 'al_get_audio_stream_length' [unsigned int al_get_audio_stream_length(const ALLEGRO_AUDIO_STREAM *stream)]
	coverage_test.go:239: Module 'audio' missing function 'al_get_audio_stream_fragments' [unsigned int al_get_audio_stream_fragments(const ALLEGRO_AUDIO_STREAM *stream)]
	coverage_test.go:239: Module 'audio' missing function 'al_get_available_audio_stream_fragments' [unsigned int al_get_available_audio_stream_fragments(const ALLEGRO_AUDIO_STREAM *stream)]
	coverage_test.go:239: Module 'audio' missing function 'al_get_audio_stream_speed' [float al_get_audio_stream_speed(const ALLEGRO_AUDIO_STREAM *stream)]
	coverage_test.go:239: Module 'audio' missing function 'al_get_audio_stream_gain' [float al_get_audio_stream_gain(const ALLEGRO_AUDIO_STREAM *stream)]
	coverage_test.go:239: Module 'audio' missing function 'al_get_audio_stream_pan' [float al_get_audio_stream_pan(const ALLEGRO_AUDIO_STREAM *stream)]
	coverage_test.go:239: Module 'audio' missing function 'al_get_audio_stream_channels' [ALLEGRO_CHANNEL_CONF al_get_audio_stream_channels(const ALLEGRO_AUDIO_STREAM *stream)]
	coverage_test.go:239: Module 'audio' missing function 'al_get_audio_stream_depth' [ALLEGRO_AUDIO_DEPTH al_get_audio_stream_depth(const ALLEGRO_AUDIO_STREAM *stream)]
	coverage_test.go:239: Module 'audio' missing function 'al_get_audio_stream_playmode' [ALLEGRO_PLAYMODE al_get_audio_stream_playmode(const ALLEGRO_AUDIO_STREAM *stream)]
	coverage_test.go:239: Module 'audio' missing function 'al_get_audio_stream_playing' [bool al_get_audio_stream_playing(const ALLEGRO_AUDIO_STREAM *spl)]
	coverage_test.go:239: Module 'audio' missing function 'al_get_audio_stream_attached' [bool al_get_audio_stream_attached(const ALLEGRO_AUDIO_STREAM *spl)]
	coverage_test.go:239: Module 'audio' missing function 'al_get_audio_stream_fragment' [void * al_get_audio_stream_fragment(const ALLEGRO_AUDIO_STREAM *stream)]
	coverage_test.go:239: Module 'audio' missing function 'al_set_audio_stream_speed' [bool al_set_audio_stream_speed(ALLEGRO_AUDIO_STREAM *stream, float val)]
	coverage_test.go:239: Module 'audio' missing function 'al_set_audio_stream_gain' [bool al_set_audio_stream_gain(ALLEGRO_AUDIO_STREAM *stream, float val)]
	coverage_test.go:239: Module 'audio' missing function 'al_set_audio_stream_pan' [bool al_set_audio_stream_pan(ALLEGRO_AUDIO_STREAM *stream, float val)]
	coverage_test.go:239: Module 'audio' missing function 'al_set_audio_stream_playmode' [bool al_set_audio_stream_playmode(ALLEGRO_AUDIO_STREAM *stream, ALLEGRO_PLAYMODE val)]
	coverage_test.go:239: Module 'audio' missing function 'al_set_audio_stream_playing' [bool al_set_audio_stream_playing(ALLEGRO_AUDIO_STREAM *stream, bool val)]
	coverage_test.go:239: Module 'audio' missing function 'al_detach_audio_stream' [bool al_detach_audio_stream(ALLEGRO_AUDIO_STREAM *stream)]
	coverage_test.go:239: Module 'audio' missing function 'al_set_audio_stream_fragment' [bool al_set_audio_stream_fragment(ALLEGRO_AUDIO_STREAM *stream, void *val)]
	coverage_test.go:239: Module 'audio' missing function 'al_rewind_audio_stream' [bool al_rewind_audio_stream(ALLEGRO_AUDIO_STREAM *stream)]
	coverage_test.go:239: Module 'audio' missing function 'al_seek_audio_stream_secs' [bool al_seek_audio_stream_secs(ALLEGRO_AUDIO_STREAM *stream, double time)]
	coverage_test.go:239: Module 'audio' missing function 'al_get_audio_stream_position_secs' [double al_get_audio_stream_position_secs(ALLEGRO_AUDIO_STREAM *stream)]
	coverage_test.go:239: Module 'audio' missing function 'al_get_audio_stream_length_secs' [double al_get_audio_stream_length_secs(ALLEGRO_AUDIO_STREAM *stream)]
	coverage_test.go:239: Module 'audio' missing function 'al_set_audio_stream_loop_secs' [bool al_set_audio_stream_loop_secs(ALLEGRO_AUDIO_STREAM *stream, double start, double end)]
	coverage_test.go:239: Module 'audio' missing function 'al_get_audio_stream_event_source' [ALLEGRO_EVENT_SOURCE * al_get_audio_stream_event_source(ALLEGRO_AUDIO_STREAM *stream)]
	coverage_test.go:239: Module 'audio' missing function 'al_create_mixer' [ALLEGRO_MIXER* al_create_mixer(unsigned int freq,ALLEGRO_AUDIO_DEPTH depth, ALLEGRO_CHANNEL_CONF chan_conf)]
	coverage_test.go:239: Module 'audio' missing function 'al_destroy_mixer' [void al_destroy_mixer(ALLEGRO_MIXER *mixer)]
	coverage_test.go:239: Module 'audio' missing function 'al_attach_sample_instance_to_mixer' [bool al_attach_sample_instance_to_mixer(ALLEGRO_SAMPLE_INSTANCE *stream, ALLEGRO_MIXER *mixer)]
	coverage_test.go:239: Module 'audio' missing function 'al_attach_audio_stream_to_mixer' [bool al_attach_audio_stream_to_mixer(ALLEGRO_AUDIO_STREAM *stream,ALLEGRO_MIXER *mixer)]
	coverage_test.go:239: Module 'audio' missing function 'al_attach_mixer_to_mixer' [bool al_attach_mixer_to_mixer(ALLEGRO_MIXER *stream,ALLEGRO_MIXER *mixer)]
	coverage_test.go:239: Module 'audio' missing function 'al_set_mixer_postprocess_callback' [bool al_set_mixer_postprocess_callback(ALLEGRO_MIXER *mixer,void (*cb)(void *buf, unsigned int samples, void *data),void *data)]
	coverage_test.go:239: Module 'audio' missing function 'al_get_mixer_frequency' [unsigned int al_get_mixer_frequency(const ALLEGRO_MIXER *mixer)]
	coverage_test.go:239: Module 'audio' missing function 'al_get_mixer_channels' [ALLEGRO_CHANNEL_CONF al_get_mixer_channels(const ALLEGRO_MIXER *mixer)]
	coverage_test.go:239: Module 'audio' missing function 'al_get_mixer_depth' [ALLEGRO_AUDIO_DEPTH al_get_mixer_depth(const ALLEGRO_MIXER *mixer)]
	coverage_test.go:239: Module 'audio' missing function 'al_get_mixer_quality' [ALLEGRO_MIXER_QUALITY al_get_mixer_quality(const ALLEGRO_MIXER *mixer)]
	coverage_test.go:239: Module 'audio' missing function 'al_get_mixer_gain' [float al_get_mixer_gain(const ALLEGRO_MIXER *mixer)]
	coverage_test.go:239: Module 'audio' missing function 'al_get_mixer_playing' [bool al_get_mixer_playing(const ALLEGRO_MIXER *mixer)]
	coverage_test.go:239: Module 'audio' missing function 'al_get_mixer_attached' [bool al_get_mixer_attached(const ALLEGRO_MIXER *mixer)]
	coverage_test.go:239: Module 'audio' missing function 'al_set_mixer_frequency' [bool al_set_mixer_frequency(ALLEGRO_MIXER *mixer, unsigned int val)]
	coverage_test.go:239: Module 'audio' missing function 'al_set_mixer_quality' [bool al_set_mixer_quality(ALLEGRO_MIXER *mixer, ALLEGRO_MIXER_QUALITY val)]
	coverage_test.go:239: Module 'audio' missing function 'al_set_mixer_gain' [bool al_set_mixer_gain(ALLEGRO_MIXER *mixer, float gain)]
	coverage_test.go:239: Module 'audio' missing function 'al_set_mixer_playing' [bool al_set_mixer_playing(ALLEGRO_MIXER *mixer, bool val)]
	coverage_test.go:239: Module 'audio' missing function 'al_detach_mixer' [bool al_detach_mixer(ALLEGRO_MIXER *mixer)]
	coverage_test.go:239: Module 'audio' missing function 'al_attach_sample_instance_to_voice' [bool al_attach_sample_instance_to_voice(ALLEGRO_SAMPLE_INSTANCE *stream, ALLEGRO_VOICE *voice)]
	coverage_test.go:239: Module 'audio' missing function 'al_attach_audio_stream_to_voice' [bool al_attach_audio_stream_to_voice(ALLEGRO_AUDIO_STREAM *stream, ALLEGRO_VOICE *voice)]
	coverage_test.go:239: Module 'audio' missing function 'al_attach_mixer_to_voice' [bool al_attach_mixer_to_voice(ALLEGRO_MIXER *mixer,ALLEGRO_VOICE *voice)]
	coverage_test.go:239: Module 'audio' missing function 'al_get_default_mixer' [ALLEGRO_MIXER * al_get_default_mixer(void)]
	coverage_test.go:239: Module 'audio' missing function 'al_set_default_mixer' [bool al_set_default_mixer(ALLEGRO_MIXER *mixer)]
	coverage_test.go:239: Module 'audio' missing function 'al_restore_default_mixer' [bool al_restore_default_mixer(void)]
	coverage_test.go:239: Module 'audio' missing function 'al_register_sample_loader' [bool al_register_sample_loader(const char *ext,ALLEGRO_SAMPLE *(*loader)(const char *filename))]
	coverage_test.go:239: Module 'audio' missing function 'al_register_sample_saver' [bool al_register_sample_saver(const char *ext,bool (*saver)(const char *filename, ALLEGRO_SAMPLE *spl))]
	coverage_test.go:239: Module 'audio' missing function 'al_register_audio_stream_loader' [bool al_register_audio_stream_loader(const char *ext,ALLEGRO_AUDIO_STREAM *(*stream_loader)(const char *filename,size_t buffer_count, unsigned int samples))]
	coverage_test.go:239: Module 'audio' missing function 'al_register_sample_loader_f' [bool al_register_sample_loader_f(const char *ext,ALLEGRO_SAMPLE *(*loader)(ALLEGRO_FILE *fp))]
	coverage_test.go:239: Module 'audio' missing function 'al_register_sample_saver_f' [bool al_register_sample_saver_f(const char *ext,bool (*saver)(ALLEGRO_FILE *fp, ALLEGRO_SAMPLE *spl))]
	coverage_test.go:239: Module 'audio' missing function 'al_register_audio_stream_loader_f' [bool al_register_audio_stream_loader_f(const char *ext,ALLEGRO_AUDIO_STREAM *(*stream_loader)(ALLEGRO_FILE *fp,size_t buffer_count, unsigned int samples))]
	coverage_test.go:239: Module 'audio' missing function 'al_save_sample' [bool al_save_sample(const char *filename,ALLEGRO_SAMPLE *spl)]
	coverage_test.go:239: Module 'audio' missing function 'al_load_audio_stream' [ALLEGRO_AUDIO_STREAM * al_load_audio_stream(const char *filename,size_t buffer_count, unsigned int samples)]
	coverage_test.go:239: Module 'audio' missing function 'al_load_sample_f' [ALLEGRO_SAMPLE * al_load_sample_f(ALLEGRO_FILE* fp, const char *ident)]
	coverage_test.go:239: Module 'audio' missing function 'al_save_sample_f' [bool al_save_sample_f(ALLEGRO_FILE* fp, const char *ident,ALLEGRO_SAMPLE *spl)]
	coverage_test.go:239: Module 'audio' missing function 'al_load_audio_stream_f' [ALLEGRO_AUDIO_STREAM * al_load_audio_stream_f(ALLEGRO_FILE* fp, const char *ident,size_t buffer_count, unsigned int samples)]
	coverage_test.go:239: Module 'primitives' missing function 'al_draw_prim' [int al_draw_prim(const void* vtxs, const ALLEGRO_VERTEX_DECL* decl, ALLEGRO_BITMAP* texture, int start, int end, int type)]
	coverage_test.go:239: Module 'primitives' missing function 'al_draw_indexed_prim' [int al_draw_indexed_prim(const void* vtxs, const ALLEGRO_VERTEX_DECL* decl, ALLEGRO_BITMAP* texture, const int* indices, int num_vtx, int type)]
	coverage_test.go:239: Module 'primitives' missing function 'al_create_vertex_decl' [ALLEGRO_VERTEX_DECL* al_create_vertex_decl(const ALLEGRO_VERTEX_ELEMENT* elements, int stride)]
	coverage_test.go:239: Module 'primitives' missing function 'al_destroy_vertex_decl' [void al_destroy_vertex_decl(ALLEGRO_VERTEX_DECL* decl)]
	coverage_test.go:239: Module 'primitives' missing function 'al_draw_soft_triangle' [void al_draw_soft_triangle(ALLEGRO_VERTEX* v1, ALLEGRO_VERTEX* v2, ALLEGRO_VERTEX* v3, uintptr_t state,void (*init)(uintptr_t, ALLEGRO_VERTEX*, ALLEGRO_VERTEX*, ALLEGRO_VERTEX*),void (*first)(uintptr_t, int, int, int, int),void (*step)(uintptr_t, int),void (*draw)(uintptr_t, int, int, int))]
	coverage_test.go:239: Module 'primitives' missing function 'al_draw_soft_line' [void al_draw_soft_line(ALLEGRO_VERTEX* v1, ALLEGRO_VERTEX* v2, uintptr_t state,void (*first)(uintptr_t, int, int, ALLEGRO_VERTEX*, ALLEGRO_VERTEX*),void (*step)(uintptr_t, int),void (*draw)(uintptr_t, int, int))]
FAIL
exit status 1
FAIL	github.com/dradtke/go-allegro	0.223s
```
